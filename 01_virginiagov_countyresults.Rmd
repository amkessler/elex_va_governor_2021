---
title: "Virginia Election Project"
author: "Aaron Kessler"
date: "11/16/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(janitor)
library(httr)
library(jsonlite)
library(readxl)
options(scipen = 999)
options(stringsAsFactors = FALSE)

```

# R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

```{r}



```

Getting 2021 Virginia governor results by county

Data available from the state here: 
https://results.elections.virginia.gov/vaelections/2021%20November%20General/Site/Statewide.html

In JSON format only
```{r}
#build the url
url <- "https://results.elections.virginia.gov/vaelections/2021%20November%20General/Json/Governor.json"

get_info <- GET(url)

this.raw.content <- rawToChar(get_info$content)
this.content <- fromJSON(this.raw.content)

#dataframe from just the 6 content 
content_df <- as.data.frame(this.content[[6]])

```

Where are candidates themselves? They are "nested" inside. We'll use unnest() to expand things.

```{r}
#unnest
results <- content_df %>%
  unnest(cols = Candidates)


```

Let's look at our data
```{r}

glimpse(results)

```

What the
```{r}



```


```{r}



```


```{r}



```


```{r}



```


```{r}



```


```{r}



```
